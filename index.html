<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…ƒæ—¦å¿«ä¹ | è‡´åœŸé¸¡è›‹</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’–</text></svg>">
    <style>
        /* æ–°å¢ï¼šç²¾ç»†å€’è®¡æ—¶æ ·å¼ */
        .countdown-section {
            background: linear-gradient(135deg, rgba(255, 107, 139, 0.1), rgba(78, 205, 196, 0.1));
            border-radius: var(--border-radius-lg);
            padding: 40px;
            margin: 40px 0;
            text-align: center;
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
        }
        
        .countdown-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        }
        
        .countdown-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .countdown-subtitle {
            color: var(--text-light);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .countdown-unit {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 20px 15px;
            min-width: 120px;
            box-shadow: var(--shadow-medium);
            position: relative;
            transition: all var(--transition-normal);
            border: 2px solid transparent;
        }
        
        .countdown-unit:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-heavy);
            border-color: var(--primary-color);
        }
        
        .countdown-value {
            display: block;
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-color);
            line-height: 1;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .countdown-label {
            display: block;
            font-size: 0.9rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .countdown-divider {
            align-self: center;
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: bold;
            margin: 0 5px;
        }
        
        .countdown-target {
            margin-top: 25px;
            padding: 15px;
            background: var(--primary-light);
            border-radius: var(--border-radius-md);
            display: inline-block;
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .countdown-message {
            margin-top: 15px;
            font-size: 1.1rem;
            color: var(--text-color);
            font-weight: 500;
        }
        
        .countdown-progress {
            width: 100%;
            height: 8px;
            background: var(--primary-light);
            border-radius: 4px;
            margin-top: 25px;
            overflow: hidden;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .countdown-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            border-radius: 4px;
            transition: width 1s ease;
        }
        
        /* æ–°å¢ï¼šèƒŒæ™¯å›¾ç‰‡æ ·å¼ - ä½¿ç”¨ç›¸å¯¹è·¯å¾„ */
        body {
            background-image: url('images/tujidan.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            position: relative;
        }
        
        /* è°ƒæ•´åçš„èƒŒæ™¯é®ç½©å±‚ - è®©èƒŒæ™¯å›¾ç‰‡é¢œè‰²æ›´æ·± */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(255, 245, 247, 0.55) 0%,  /* ä»0.85æ”¹ä¸º0.55ï¼Œè®©èƒŒæ™¯æ›´æ˜æ˜¾ */
                rgba(255, 245, 247, 0.65) 100%); /* ä»0.92æ”¹ä¸º0.65 */
            z-index: -2;
            pointer-events: none;
        }
        
        /* ä¸»é¢˜é®ç½©ï¼Œæ ¹æ®ä¸»é¢˜å˜åŒ– - åŒæ ·è°ƒæ·±é¢œè‰² */
        body[data-theme="purple"]::before {
            background: linear-gradient(135deg, 
                rgba(248, 247, 255, 0.55) 0%, 
                rgba(248, 247, 255, 0.65) 100%);
        }
        
        body[data-theme="blue"]::before {
            background: linear-gradient(135deg, 
                rgba(240, 248, 255, 0.55) 0%, 
                rgba(240, 248, 255, 0.65) 100%);
        }
        
        body[data-theme="green"]::before {
            background: linear-gradient(135deg, 
                rgba(240, 255, 245, 0.55) 0%, 
                rgba(240, 255, 245, 0.65) 100%);
        }
        
        /* è°ƒæ•´ç°æœ‰å®¹å™¨èƒŒæ™¯é€æ˜åº¦ - ä¸ºäº†è®©æ–‡å­—æ›´æ¸…æ™°ï¼Œé€‚å½“è°ƒæ•´é€æ˜åº¦ */
        .container {
            background: transparent;
        }
        
        .feature-card, 
        .game-box,
        .countdown-section,
        .stats-card {
            background: rgba(255, 255, 255, 0.95); /* ä»0.92æ”¹ä¸º0.95ï¼Œè®©å¡ç‰‡æ›´ç™½ */
            backdrop-filter: blur(8px); /* ä»10pxæ”¹ä¸º8pxï¼Œå‡å°‘æ¨¡ç³Šæ•ˆæœ */
        }
        
        .hero-section {
            background: transparent;
        }
        
        .hero-content {
            background: rgba(255, 255, 255, 0.85); /* ä»0.7æ”¹ä¸º0.85ï¼Œè®©æ–‡å­—åŒºåŸŸæ›´ç™½ */
            backdrop-filter: blur(5px);
            border-radius: var(--border-radius-lg);
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); /* å¢åŠ é˜´å½±æ·±åº¦ */
            border: 1px solid rgba(255, 255, 255, 0.3); /* è¾¹æ¡†æ›´æ˜æ˜¾ */
        }
        
        /* æµ®åŠ¨çˆ±å¿ƒéœ€è¦è°ƒæ•´z-index */
        .floating-hearts {
            z-index: -1;
        }
        
        /* å¯é€‰ï¼šæ·»åŠ èƒŒæ™¯å›¾ç‰‡æ»¤é•œï¼Œè®©å›¾ç‰‡é¢œè‰²æ›´æ·± */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.1); /* æ·»åŠ ä¸€å±‚æ·±è‰²å åŠ å±‚ï¼Œè®©å›¾ç‰‡æ›´æ·± */
            z-index: -3;
            pointer-events: none;
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes countdownPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .countdown-unit.pulse {
            animation: countdownPulse 0.5s ease;
        }
        
        @keyframes countdownFlip {
            0% { transform: rotateX(0); }
            50% { transform: rotateX(90deg); }
            100% { transform: rotateX(0); }
        }
        
        .countdown-value.changing {
            animation: countdownFlip 0.5s ease;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .countdown-section {
                padding: 30px 20px;
            }
            
            .countdown-unit {
                min-width: 90px;
                padding: 15px 10px;
            }
            
            .countdown-value {
                font-size: 2.2rem;
            }
            
            .countdown-title {
                font-size: 1.5rem;
            }
            
            .countdown-divider {
                font-size: 1.5rem;
                margin: 0 2px;
            }
            
            .hero-content {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 480px) {
            .countdown-container {
                gap: 8px;
            }
            
            .countdown-unit {
                min-width: 70px;
                padding: 12px 8px;
            }
            
            .countdown-value {
                font-size: 1.8rem;
            }
            
            .countdown-label {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <i class="fas fa-heart"></i> å…ƒæ—¦å¿«ä¹
            </a>
            <ul class="nav-menu">
                <li><a href="index.html"><i class="fas fa-home"></i> ä¸»é¡µ</a></li>
                <li><a href="moments.html"><i class="fas fa-heart"></i> ç‰¹åˆ«å›å¿†</a></li>
                <li><a href="photos.html"><i class="fas fa-images"></i> ç…§ç‰‡å¢™</a></li>
                <li><a href="countdown.html"><i class="fas fa-calendar-alt"></i> é‡è¦æ—¥å­</a></li>
                <li><a href="surprise.html"><i class="fas fa-gift"></i> å°æƒŠå–œ</a></li>
            </ul>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="floating-hearts" id="hearts-container"></div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="container">
        <!-- æ¬¢è¿åŒºåŸŸ -->
        <header class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    å…ƒæ—¦å¿«ä¹ï¼Œ
                    <span class="highlight-name">åœŸé¸¡è›‹</span>
                    <i class="fas fa-heart heart-beat"></i>
                </h1>
                <p class="hero-subtitle">æ–°çš„ä¸€å¹´ï¼Œæ–°çš„å¼€å§‹ï¼Œå¸Œæœ›æœ‰ä½ ç›¸ä¼´</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number" id="days-until-ny">0</span>
                        <span class="stat-label">å¤©åˆ°æ–°å¹´</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="total-smiles">âˆ</span>
                        <span class="stat-label">ä½ çš„å¾®ç¬‘</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">çœŸå¿ƒç¥ç¦</span>
                    </div>
                </div>
            </div>
            <div class="hero-decoration">
                <div class="decoration-circle"></div>
                <div class="decoration-circle"></div>
                <div class="decoration-circle"></div>
            </div>
        </header>

        <!-- æ–°å¢ï¼šç²¾ç»†å€’è®¡æ—¶åŒºåŸŸ -->
        <section class="countdown-section fade-in">
            <h2 class="countdown-title">
                <i class="fas fa-clock"></i> å…ƒæ—¦å€’è®¡æ—¶
            </h2>
            <p class="countdown-subtitle">è·ç¦»ä¸‹ä¸€ä¸ªå…ƒæ—¦è¿˜æœ‰...</p>
            
            <div class="countdown-container">
                <div class="countdown-unit" id="countdown-days">
                    <span class="countdown-value">00</span>
                    <span class="countdown-label">å¤©</span>
                </div>
                
                <span class="countdown-divider">:</span>
                
                <div class="countdown-unit" id="countdown-hours">
                    <span class="countdown-value">00</span>
                    <span class="countdown-label">å°æ—¶</span>
                </div>
                
                <span class="countdown-divider">:</span>
                
                <div class="countdown-unit" id="countdown-minutes">
                    <span class="countdown-value">00</span>
                    <span class="countdown-label">åˆ†é’Ÿ</span>
                </div>
                
                <span class="countdown-divider">:</span>
                
                <div class="countdown-unit" id="countdown-seconds">
                    <span class="countdown-value">00</span>
                    <span class="countdown-label">ç§’</span>
                </div>
            </div>
            
            <div class="countdown-progress">
                <div class="countdown-progress-bar" id="countdown-progress"></div>
            </div>
            
            <div class="countdown-target" id="countdown-target">
                ç›®æ ‡æ—¶é—´ï¼š2026å¹´1æœˆ1æ—¥ 00:00:00
            </div>
            
            <div class="countdown-message" id="countdown-message">
                æ—¶é—´åœ¨æµé€ï¼Œä½†å¯¹ä½ çš„ç¥ç¦æ°¸è¿œæ–°é²œï¼
            </div>
        </section>

        <!-- åŠŸèƒ½å¡ç‰‡ç½‘æ ¼ -->
        <section class="features-section">
            <h2 class="section-title"><i class="fas fa-star"></i> ç‰¹åˆ«ä¸ºä½ å‡†å¤‡</h2>
            <div class="features-grid">
                <!-- å¡ç‰‡1 -->
                <div class="feature-card">
                    <div class="card-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>æ–°å¹´ç¥ç¦</h3>
                    <p>é€ä½ ä¸€ä»½ç‰¹åˆ«çš„å…ƒæ—¦ç¥ç¦ï¼Œæ„¿æ–°çš„ä¸€å¹´é‡Œï¼Œæ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ã€‚</p>
                    <button class="card-btn" onclick="generateBlessing()">
                        è·å–ç¥ç¦ <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <!-- å¡ç‰‡2 -->
                <div class="feature-card">
                    <div class="card-icon">
                        <i class="fas fa-music"></i>
                    </div>
                    <h3>èƒŒæ™¯éŸ³ä¹</h3>
                    <p>ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼Œè®©ç¾å¦™çš„éŸ³ä¹ä¼´éšä½ æµè§ˆè¿™ä¸ªç‰¹åˆ«çš„å°ç«™ã€‚</p>
                    <div class="music-controls">
                        <button class="music-btn" onclick="toggleMusic()">
                            <i class="fas fa-play"></i> æ’­æ”¾éŸ³ä¹
                        </button>
                        <select id="musicSelect" class="music-select">
                            <option value="1">æ¸©é¦¨é’¢ç´æ›²</option>
                            <option value="2">è½»å¿«ä¹æ›²</option>
                            <option value="3">æµªæ¼«æ—‹å¾‹</option>
                        </select>
                    </div>
                </div>

                <!-- å¡ç‰‡3 -->
                <div class="feature-card">
                    <div class="card-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>ä¸»é¢˜åˆ‡æ¢</h3>
                    <p>é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²ä¸»é¢˜ï¼Œè®©é¡µé¢æ›´ç¬¦åˆä½ çš„å¿ƒæƒ…ã€‚</p>
                    <div class="theme-switcher">
                        <button class="theme-btn" data-theme="pink" style="background: #ff6b8b;"></button>
                        <button class="theme-btn" data-theme="purple" style="background: #9c88ff;"></button>
                        <button class="theme-btn" data-theme="blue" style="background: #3498db;"></button>
                        <button class="theme-btn" data-theme="green" style="background: #2ecc71;"></button>
                    </div>
                </div>

                <!-- å¡ç‰‡4 -->
                <div class="feature-card">
                    <div class="card-icon">
                        <i class="fas fa-compass"></i>
                    </div>
                    <h3>å¿«é€Ÿå¯¼èˆª</h3>
                    <p>æ¢ç´¢æ›´å¤šæœ‰è¶£çš„å†…å®¹ï¼Œå‘ç°æ›´å¤šæƒŠå–œã€‚</p>
                    <div class="quick-nav">
                        <a href="moments.html" class="nav-link">
                            <i class="fas fa-heart"></i> ç‰¹åˆ«å›å¿†
                        </a>
                        <a href="photos.html" class="nav-link">
                            <i class="fas fa-images"></i> ç…§ç‰‡å¢™
                        </a>
                        <a href="countdown.html" class="nav-link">
                            <i class="fas fa-calendar"></i> å€’è®¡æ—¶
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- äº’åŠ¨åŒºåŸŸ -->
        <section class="interactive-section">
            <h2 class="section-title"><i class="fas fa-magic"></i> äº’åŠ¨å°æ¸¸æˆ</h2>
            <div class="game-container">
                <!-- ç¥ç¦ç”Ÿæˆå™¨ -->
                <div class="game-box">
                    <h3><i class="fas fa-wand-magic-sparkles"></i> ç¥ç¦ç”Ÿæˆå™¨</h3>
                    <p>ç‚¹å‡»æŒ‰é’®ï¼Œç”Ÿæˆéšæœºçš„å…ƒæ—¦ç¥ç¦è¯­</p>
                    <button class="game-btn" id="generateWish">
                        ç”Ÿæˆç¥ç¦ <i class="fas fa-bolt"></i>
                    </button>
                    <div class="wish-display" id="wishDisplay">
                        ç­‰å¾…ç”Ÿæˆç¥ç¦è¯­...
                    </div>
                </div>

                <!-- å¿ƒæƒ…è®°å½• -->
                <div class="game-box">
                    <h3><i class="fas fa-smile"></i> ä»Šæ—¥å¿ƒæƒ…</h3>
                    <p>ä»Šå¤©çš„å¿ƒæƒ…æ€ä¹ˆæ ·ï¼Ÿè®°å½•ä¸€ä¸‹å§</p>
                    <div class="mood-selector">
                        <button class="mood-btn" data-mood="happy">ğŸ˜Š å¼€å¿ƒ</button>
                        <button class="mood-btn" data-mood="excited">ğŸ˜† å…´å¥‹</button>
                        <button class="mood-btn" data-mood="peaceful">ğŸ˜Œ å¹³é™</button>
                        <button class="mood-btn" data-mood="curious">ğŸ¤” å¥½å¥‡</button>
                    </div>
                    <div class="mood-display" id="moodDisplay">
                        è¿˜æ²¡æœ‰è®°å½•å¿ƒæƒ…å“¦
                    </div>
                </div>
            </div>
        </section>

        <!-- é¡µé¢ç»Ÿè®¡ -->
        <section class="stats-section">
            <div class="stats-card">
                <h3><i class="fas fa-chart-line"></i> é¡µé¢æ•°æ®</h3>
                <div class="stats-grid">
                    <div class="stat-display">
                        <span class="stat-big" id="visitCount">1</span>
                        <span class="stat-label">æ¬¡è®¿é—®</span>
                    </div>
                    <div class="stat-display">
                        <span class="stat-big" id="clickCount">0</span>
                        <span class="stat-label">æ¬¡ç‚¹å‡»</span>
                    </div>
                    <div class="stat-display">
                        <span class="stat-big" id="wishCount">0</span>
                        <span class="stat-label">ä¸ªç¥ç¦</span>
                    </div>
                    <div class="stat-display">
                        <span class="stat-big" id="timeSpent">0</span>
                        <span class="stat-label">åˆ†é’Ÿåœç•™</span>
                    </div>
                </div>
                <button class="reset-btn" onclick="resetStats()">
                    <i class="fas fa-redo"></i> é‡ç½®ç»Ÿè®¡
                </button>
            </div>
        </section>

        <!-- ç¥ç¦è¯­è½®æ’­ -->
        <section class="quotes-section">
            <h2 class="section-title"><i class="fas fa-quote-left"></i> æ¸©é¦¨ç¥ç¦è¯­</h2>
            <div class="quotes-carousel">
                <div class="quote-slide active">
                    <p>"æ„¿æ–°å¹´çš„ç¬¬ä¸€ç¼•é˜³å…‰ï¼Œå¸¦å»æˆ‘æœ€è¯šæŒšçš„ç¥ç¦ã€‚å…ƒæ—¦å¿«ä¹ï¼ŒåœŸé¸¡è›‹ï¼"</p>
                </div>
                <div class="quote-slide">
                    <p>"æ–°çš„ä¸€å¹´ï¼Œæ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰ï¼Œæ¯ä¸ªæ¢¦æƒ³éƒ½èƒ½å®ç°ã€‚"</p>
                </div>
                <div class="quote-slide">
                    <p>"å…ƒæ—¦çš„é’Ÿå£°æ•²å“ï¼Œç¥ä½ å¹³å®‰å–œä¹ï¼Œä¸‡äº‹å¦‚æ„ï¼"</p>
                </div>
                <div class="quote-slide">
                    <p>"æ„¿è¿™ä¸ªå…ƒæ—¦ï¼Œæˆä¸ºæˆ‘ä»¬ç¾å¥½å›å¿†çš„èµ·ç‚¹ã€‚"</p>
                </div>
            </div>
            <div class="carousel-controls">
                <button class="carousel-btn" onclick="prevQuote()"><i class="fas fa-chevron-left"></i></button>
                <div class="carousel-dots">
                    <span class="dot active" onclick="goToQuote(0)"></span>
                    <span class="dot" onclick="goToQuote(1)"></span>
                    <span class="dot" onclick="goToQuote(2)"></span>
                    <span class="dot" onclick="goToQuote(3)"></span>
                </div>
                <button class="carousel-btn" onclick="nextQuote()"><i class="fas fa-chevron-right"></i></button>
            </div>
        </section>
    </div>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-heart"></i> å…³äºè¿™ä¸ªç½‘ç«™</h3>
                <p>è¿™æ˜¯ä¸€ä¸ªç‰¹åˆ«ä¸º <span class="highlight-name">åœŸé¸¡è›‹</span> åˆ¶ä½œçš„å…ƒæ—¦ç¥ç¦ç½‘ç«™ï¼Œå¸Œæœ›ä½ å–œæ¬¢ï¼è¯·æ”¾å¿ƒç›¸ä¿¡æœ¬äººçš„å–œæ¬¢</p>
            </div>
            <div class="footer-section">
                <h3><i class="fas fa-link"></i> å¿«é€Ÿé“¾æ¥</h3>
                <div class="footer-links">
                    <a href="index.html"><i class="fas fa-home"></i> ä¸»é¡µ</a>
                    <a href="moments.html"><i class="fas fa-heart"></i> å›å¿†</a>
                    <a href="photos.html"><i class="fas fa-images"></i> ç…§ç‰‡</a>
                    <a href="surprise.html"><i class="fas fa-gift"></i> æƒŠå–œ</a>
                </div>
            </div>
            <div class="footer-section">
                <h3><i class="fas fa-info-circle"></i> ç½‘ç«™ä¿¡æ¯</h3>
                <p>åˆ›å»ºæ—¶é—´ï¼š2025å¹´å…ƒæ—¦</p>
                <p>æœ€åæ›´æ–°ï¼š<span id="lastUpdate">ä»Šå¤©</span></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Â© 2025 å…ƒæ—¦ç‰¹åˆ«ç‰ˆ | ä¸“ä¸º <span class="highlight-name">åœŸé¸¡è›‹</span> åˆ¶ä½œ</p>
            <p class="footer-note">
                <i class="fas fa-heart"></i> æ„¿ä½ æœ‰ä¸€ä¸ªç¾å¥½çš„æ–°å¹´ <i class="fas fa-heart"></i>
            </p>
        </div>
    </footer>

    <!-- éŸ³é¢‘å…ƒç´ ï¼ˆèƒŒæ™¯éŸ³ä¹ï¼‰ -->
    <audio id="backgroundMusic" loop>
        <source src="https://assets.codepen.io/1468070/Spring.mp3" type="audio/mpeg">
        <source src="https://assets.codepen.io/1468070/Spring.ogg" type="audio/ogg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- åŠ è½½è„šæœ¬ -->
    <script src="js/main.js"></script>
    <script>
        // æ–°å¢ï¼šç²¾ç»†å€’è®¡æ—¶åŠŸèƒ½
        function initDetailedCountdown() {
            // è·å–ç›®æ ‡æ—¥æœŸï¼ˆä¸‹ä¸€å¹´çš„1æœˆ1æ—¥ï¼‰
            const now = new Date();
            const currentYear = now.getFullYear();
            const nextYear = currentYear + 1;
            const targetDate = new Date(nextYear, 0, 1, 0, 0, 0);
            
            // æ›´æ–°ç›®æ ‡æ˜¾ç¤º
            const targetElement = document.getElementById('countdown-target');
            if (targetElement) {
                targetElement.textContent = `ç›®æ ‡æ—¶é—´ï¼š${nextYear}å¹´1æœˆ1æ—¥ 00:00:00`;
            }
            
            // è®¡ç®—å¹¶æ˜¾ç¤ºå€’è®¡æ—¶
            function updateCountdown() {
                const now = new Date();
                const diff = targetDate - now;
                
                // å¦‚æœå·²ç»è¿‡äº†å…ƒæ—¦ï¼Œè®¡ç®—ä¸‹ä¸€å¹´çš„å…ƒæ—¦
                if (diff <= 0) {
                    const newTargetDate = new Date(nextYear + 1, 0, 1, 0, 0, 0);
                    const newDiff = newTargetDate - now;
                    updateCountdownDisplay(newDiff, newTargetDate);
                } else {
                    updateCountdownDisplay(diff, targetDate);
                }
            }
            
            // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
            function updateCountdownDisplay(diff, target) {
                // è®¡ç®—æ—¶é—´å•ä½
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                // æ›´æ–°æ˜¾ç¤º
                updateCountdownUnit('countdown-days', days);
                updateCountdownUnit('countdown-hours', hours);
                updateCountdownUnit('countdown-minutes', minutes);
                updateCountdownUnit('countdown-seconds', seconds);
                
                // æ›´æ–°è¿›åº¦æ¡
                updateProgressBar(diff, target);
                
                // æ›´æ–°æ¶ˆæ¯
                updateCountdownMessage(days);
                
                // æ›´æ–°ç®€å•çš„å¤©æ•°æ˜¾ç¤ºï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰
                const simpleDaysElement = document.getElementById('days-until-ny');
                if (simpleDaysElement) {
                    simpleDaysElement.textContent = days;
                    
                    // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                    if (days <= 10) {
                        simpleDaysElement.style.color = '#EF476F';
                        simpleDaysElement.style.animation = 'pulse 1s infinite';
                    }
                }
            }
            
            // æ›´æ–°å•ä¸ªå€’è®¡æ—¶å•ä½
            function updateCountdownUnit(elementId, value) {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                const valueElement = element.querySelector('.countdown-value');
                if (!valueElement) return;
                
                const oldValue = parseInt(valueElement.textContent);
                const newValue = value.toString().padStart(2, '0');
                
                // å¦‚æœå€¼æ”¹å˜äº†ï¼Œæ·»åŠ åŠ¨ç”»
                if (oldValue !== value) {
                    // å€¼æ”¹å˜æ—¶æ·»åŠ é—ªçƒåŠ¨ç”»
                    if (elementId === 'countdown-seconds' || Math.abs(oldValue - value) > 1) {
                        element.classList.add('pulse');
                        valueElement.classList.add('changing');
                        
                        // ç§»é™¤åŠ¨ç”»ç±»
                        setTimeout(() => {
                            element.classList.remove('pulse');
                            valueElement.classList.remove('changing');
                        }, 500);
                    }
                }
                
                valueElement.textContent = newValue;
            }
            
            // æ›´æ–°è¿›åº¦æ¡
            function updateProgressBar(diff, target) {
                const progressBar = document.getElementById('countdown-progress');
                if (!progressBar) return;
                
                const totalTime = 365 * 24 * 60 * 60 * 1000; // ä¸€å¹´çš„æ¯«ç§’æ•°ï¼ˆè¿‘ä¼¼ï¼‰
                const elapsedTime = totalTime - diff;
                const progress = Math.min(100, Math.max(0, (elapsedTime / totalTime) * 100));
                
                progressBar.style.width = `${progress}%`;
                
                // æ ¹æ®è¿›åº¦æ”¹å˜é¢œè‰²
                if (progress > 90) {
                    progressBar.style.background = 'linear-gradient(90deg, #EF476F, #FF9A5A)';
                } else if (progress > 75) {
                    progressBar.style.background = 'linear-gradient(90deg, var(--primary-color), #FF9A5A)';
                }
            }
            
            // æ›´æ–°å€’è®¡æ—¶æ¶ˆæ¯
            function updateCountdownMessage(days) {
                const messageElement = document.getElementById('countdown-message');
                if (!messageElement) return;
                
                let message = "æ—¶é—´åœ¨æµé€ï¼Œä½†å¯¹ä½ çš„ç¥ç¦æ°¸è¿œæ–°é²œï¼";
                
                if (days <= 0) {
                    message = "ğŸ‰ å…ƒæ—¦å¿«ä¹ï¼æ–°çš„ä¸€å¹´å¼€å§‹äº†ï¼ ğŸ‰";
                } else if (days === 1) {
                    message = "æ˜å¤©å°±æ˜¯å…ƒæ—¦äº†ï¼å‡†å¤‡å¥½è¿æ¥æ–°çš„ä¸€å¹´äº†å—ï¼Ÿ";
                } else if (days <= 7) {
                    message = "åªå‰©ä¸åˆ°ä¸€å‘¨äº†ï¼Œå…ƒæ—¦å³å°†åˆ°æ¥ï¼";
                } else if (days <= 30) {
                    message = "å…ƒæ—¦è¶Šæ¥è¶Šè¿‘äº†ï¼ŒæœŸå¾…ä¸ä½ å…±åº¦æ–°å¹´ï¼";
                } else if (days <= 100) {
                    message = "è¿˜æœ‰ä¸€æ®µæ—¥å­ï¼Œä½†å¯¹ä½ çš„ç¥ç¦ä»ä¸é—´æ–­ï¼";
                }
                
                messageElement.textContent = message;
                
                // ç‰¹æ®Šæ—¥å­çš„ç‰¹æ®Šæ¶ˆæ¯
                const specialMessages = {
                    100: "ğŸ¯ è·ç¦»å…ƒæ—¦è¿˜æœ‰100å¤©ï¼",
                    50: "âœ¨ è¿˜æœ‰50å¤©å°±åˆ°å…ƒæ—¦äº†ï¼",
                    10: "ğŸ„ å…ƒæ—¦è¿›å…¥10å¤©å€’è®¡æ—¶ï¼",
                    5: "ğŸŒŸ è¿˜æœ‰5å¤©ï¼Œå‡†å¤‡å¥½è·¨å¹´äº†å—ï¼Ÿ"
                };
                
                if (specialMessages[days]) {
                    messageElement.textContent = specialMessages[days];
                    messageElement.style.color = "var(--primary-color)";
                    messageElement.style.fontWeight = "bold";
                } else {
                    messageElement.style.color = "";
                    messageElement.style.fontWeight = "";
                }
            }
            
            // åˆå§‹æ›´æ–°
            updateCountdown();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡
            setInterval(updateCountdown, 1000);
        }
        
        // ä¿®æ”¹åŸæœ‰çš„initNewYearCountdownå‡½æ•°
        function initNewYearCountdown() {
            // ç°åœ¨ä½¿ç”¨è¯¦ç»†çš„å€’è®¡æ—¶åŠŸèƒ½
            initDetailedCountdown();
        }
        
        // DOMåŠ è½½å®Œæˆååˆå§‹åŒ–å€’è®¡æ—¶
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–...');
            
            // åˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
            initNavigation();
            initFloatingHearts();
            initTheme();
            initStats();
            initNewYearCountdown(); // ä½¿ç”¨æ–°çš„è¯¦ç»†å€’è®¡æ—¶
            initMusicPlayer();
            initWishGenerator();
            initMoodSelector();
            initQuotesCarousel();
            initBackToTop();
            initPageVisits();
            
            // æ›´æ–°é¡µé¢ä¿¡æ¯
            updatePageInfo();
            
            console.log('ç½‘ç«™åˆå§‹åŒ–å®Œæˆï¼');
        });
        
        // èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„å¤„ç†
        window.addEventListener('load', function() {
            const img = new Image();
            img.src = 'images/tujidan.jpg';
            
            img.onload = function() {
                console.log('èƒŒæ™¯å›¾ç‰‡åŠ è½½æˆåŠŸ');
                // å›¾ç‰‡åŠ è½½æˆåŠŸåæ·»åŠ æ·¡å…¥æ•ˆæœ
                document.body.style.opacity = '0';
                document.body.style.transition = 'opacity 1s ease';
                setTimeout(() => {
                    document.body.style.opacity = '1';
                }, 100);
            };
            
            img.onerror = function() {
                console.log('èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨èƒŒæ™¯');
                // å¦‚æœæœ¬åœ°å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨åœ¨çº¿å›¾ç‰‡ä½œä¸ºå¤‡ç”¨
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')";
            };
        });
    </script>
</body>
</html>