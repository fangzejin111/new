<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒŠå–œæ—¶åˆ» | åœŸé¸¡è›‹</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’–</text></svg>">
    <style>
        /* æƒŠå–œé¡µé¢ç‰¹æœ‰æ ·å¼ */
        :root {
            --surprise-pink: #ff6b8b;
            --surprise-orange: #ff8e53;
            --surprise-purple: #9c88ff;
            --surprise-blue: #3498db;
            --surprise-green: #2ecc71;
        }
        
        .surprise-page {
            min-height: 100vh;
            background: linear-gradient(135deg, 
                rgba(255, 107, 139, 0.08) 0%, 
                rgba(255, 142, 83, 0.08) 25%, 
                rgba(156, 136, 255, 0.08) 50%, 
                rgba(52, 152, 219, 0.08) 75%, 
                rgba(46, 204, 113, 0.08) 100%);
            padding-top: 80px;
            position: relative;
            overflow: hidden;
        }
        
        /* é­”æ³•ç²’å­èƒŒæ™¯ */
        .magic-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--surprise-pink);
            border-radius: 50%;
            opacity: 0;
            animation: floatParticle 15s infinite linear;
        }
        
        .particle:nth-child(2n) {
            background: var(--surprise-orange);
        }
        
        .particle:nth-child(3n) {
            background: var(--surprise-purple);
        }
        
        @keyframes floatParticle {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* é¡µé¢å¤´éƒ¨ */
        .surprise-header {
            text-align: center;
            padding: 60px 20px 40px;
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .surprise-title {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, 
                var(--surprise-pink), 
                var(--surprise-orange),
                var(--surprise-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            text-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            display: inline-block;
        }
        
        .surprise-title::after {
            content: 'âœ¨';
            position: absolute;
            top: -15px;
            right: -40px;
            font-size: 2rem;
            animation: sparkle 2s infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.7; transform: scale(1) rotate(0deg); }
            50% { opacity: 1; transform: scale(1.2) rotate(10deg); }
        }
        
        .surprise-subtitle {
            font-size: 1.5rem;
            color: var(--text-light);
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        /* æƒŠå–œå¡ç‰‡å®¹å™¨ */
        .surprise-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px 60px;
            position: relative;
            z-index: 2;
        }
        
        /* æƒŠå–œå¡ç‰‡ç½‘æ ¼ */
        .surprise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .surprise-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-heavy);
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
            transition: all var(--transition-normal);
            cursor: pointer;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .surprise-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            border-color: var(--primary-color);
        }
        
        .surprise-card.revealed {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--card-bg) 100%);
        }
        
        .card-number {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .card-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            transition: all var(--transition-normal);
        }
        
        .surprise-card:hover .card-icon {
            transform: scale(1.2) rotate(10deg);
        }
        
        .card-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--text-color);
        }
        
        .card-hint {
            color: var(--text-light);
            margin-bottom: 20px;
            font-size: 0.95rem;
            font-style: italic;
        }
        
        .card-content {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 20px;
            display: none;
            font-size: 1.1rem;
        }
        
        .reveal-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .reveal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .reveal-btn:active {
            transform: translateY(0);
        }
        
        /* ä¸»è¦è¡¨ç™½åŒºåŸŸ */
        .main-confession {
            background: linear-gradient(135deg, 
                var(--surprise-pink), 
                var(--surprise-orange));
            color: white;
            border-radius: var(--border-radius-lg);
            padding: 60px 40px;
            text-align: center;
            margin: 60px auto;
            max-width: 800px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(255, 107, 139, 0.3);
            animation: pulseBackground 4s infinite alternate;
        }
        
        @keyframes pulseBackground {
            0% { background: linear-gradient(135deg, var(--surprise-pink), var(--surprise-orange)); }
            100% { background: linear-gradient(135deg, var(--surprise-purple), var(--surprise-blue)); }
        }
        
        .main-confession::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.1)" d="M0,0 L100,0 L100,100 Z"/></svg>');
            background-size: cover;
        }
        
        .confession-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }
        
        .confession-text {
            font-size: 2.8rem;
            font-weight: 900;
            margin: 30px 0;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
            line-height: 1.4;
            animation: heartbeat 1.5s infinite;
        }
        
        .confession-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            line-height: 1.6;
        }
        
        /* æ—¶é—´èƒ¶å›Š */
        .time-capsule {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 40px;
            margin: 60px auto;
            max-width: 800px;
            box-shadow: var(--shadow-heavy);
            text-align: center;
            border: 3px solid var(--primary-light);
            position: relative;
        }
        
        .capsule-title {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .capsule-content {
            font-size: 1.1rem;
            color: var(--text-color);
            line-height: 1.8;
            margin-bottom: 30px;
            text-align: left;
            background: var(--primary-light);
            padding: 25px;
            border-radius: var(--border-radius-md);
        }
        
        .open-capsule-btn {
            background: linear-gradient(135deg, var(--surprise-green), #27ae60);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: inline-flex;
            align-items: center;
            gap: 15px;
        }
        
        .open-capsule-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(46, 204, 113, 0.3);
        }
        
        /* éšè—çš„å½©è›‹ */
        .hidden-egg {
            text-align: center;
            margin: 60px auto;
            opacity: 0.7;
            transition: opacity var(--transition-normal);
        }
        
        .hidden-egg:hover {
            opacity: 1;
        }
        
        .egg-hint {
            font-size: 1rem;
            color: var(--text-light);
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .egg-button {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 0.9rem;
            transition: color var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 5px;
            margin: 0 auto;
        }
        
        .egg-button:hover {
            color: var(--primary-color);
        }
        
        .egg-content {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: var(--primary-light);
            border-radius: var(--border-radius-md);
            color: var(--text-color);
            animation: fadeIn 0.5s ease;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .surprise-title {
                font-size: 2.8rem;
            }
            
            .surprise-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .surprise-title {
                font-size: 2.2rem;
            }
            
            .surprise-subtitle {
                font-size: 1.2rem;
            }
            
            .surprise-grid {
                grid-template-columns: 1fr;
            }
            
            .confession-text {
                font-size: 2rem;
            }
            
            .confession-title {
                font-size: 2rem;
            }
            
            .main-confession {
                padding: 40px 20px;
            }
        }
        
        @media (max-width: 480px) {
            .surprise-title {
                font-size: 1.8rem;
            }
            
            .surprise-card {
                padding: 20px;
            }
            
            .confession-text {
                font-size: 1.6rem;
            }
            
            .card-title {
                font-size: 1.5rem;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .slide-up {
            animation: slideUp 0.8s ease forwards;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <i class="fas fa-heart"></i> å…ƒæ—¦å¿«ä¹
            </a>
            <ul class="nav-menu">
                <li><a href="index.html"><i class="fas fa-home"></i> ä¸»é¡µ</a></li>
                <li><a href="moments.html"><i class="fas fa-heart"></i> ç‰¹åˆ«å›å¿†</a></li>
                <li><a href="photos.html"><i class="fas fa-images"></i> ç…§ç‰‡å¢™</a></li>
                <li><a href="countdown.html"><i class="fas fa-calendar-alt"></i> é‡è¦æ—¥å­</a></li>
                <li><a href="surprise.html"><i class="fas fa-gift"></i> å°æƒŠå–œ</a></li>
            </ul>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- é­”æ³•ç²’å­èƒŒæ™¯ -->
    <div class="magic-particles" id="magicParticles"></div>

    <!-- æƒŠå–œé¡µé¢å†…å®¹ -->
    <div class="surprise-page">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <header class="surprise-header">
            <h1 class="surprise-title slide-up">âœ¨ æƒŠå–œæ—¶åˆ» âœ¨</h1>
            <p class="surprise-subtitle">
                ä¸ºä½ å‡†å¤‡çš„ç‰¹åˆ«æƒŠå–œï¼Œæ¯ä¸€ä»½éƒ½è—ç€æˆ‘çš„å¿ƒæ„<br>
                æ…¢æ…¢æ¢ç´¢ï¼Œå‘ç°æ¯ä¸€ä»½æƒŠå–œå§ï¼
            </p>
            <div style="margin-top: 20px;">
                <button class="reveal-btn" onclick="revealAllSurprises()">
                    <i class="fas fa-bolt"></i> ä¸€é”®æ­å¼€æ‰€æœ‰æƒŠå–œ
                </button>
            </div>
        </header>

        <!-- æƒŠå–œå¡ç‰‡ç½‘æ ¼ -->
        <div class="surprise-container">
            <div class="surprise-grid">
                <!-- æƒŠå–œ1 -->
                <div class="surprise-card" data-index="1">
                    <div class="card-number">1</div>
                    <div class="card-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="card-title">ç¬¬ä¸€ä¸ªæƒŠå–œ</h3>
                    <p class="card-hint">ç‚¹å‡»æ­å¼€è¿™ä¸ªæƒŠå–œ</p>
                    <div class="card-content" id="surprise1">
                        <p>æƒ³å¯¹ä½ è¯´ï¼šä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾ä¸½çš„æ„å¤–ï¼Œä¹Ÿæ˜¯æœ€çè´µçš„ç¤¼ç‰©ã€‚</p>
                        <p>æ¯æ¬¡æƒ³åˆ°ä½ ï¼Œå¿ƒé‡Œéƒ½æš–æš–çš„ï¼Œå°±åƒå†¬å¤©é‡Œçš„é˜³å…‰ã€‚</p>
                        <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.2); border-radius: 10px;">
                            <i class="fas fa-quote-left" style="color: var(--surprise-pink);"></i>
                            <strong style="color: var(--surprise-pink);">ä½ è®©æˆ‘çš„ä¸–ç•Œå˜å¾—å®Œæ•´</strong>
                            <i class="fas fa-quote-right" style="color: var(--surprise-pink);"></i>
                        </div>
                    </div>
                    <button class="reveal-btn" onclick="revealSurprise(1)">
                        <i class="fas fa-lock-open"></i> æ­å¼€æƒŠå–œ
                    </button>
                </div>

                <!-- æƒŠå–œ2 -->
                <div class="surprise-card" data-index="2">
                    <div class="card-number">2</div>
                    <div class="card-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3 class="card-title">ç‰¹åˆ«çš„å›å¿†</h3>
                    <p class="card-hint">è¿™é‡Œè—ç€æˆ‘ä»¬çš„ç¾å¥½æ—¶å…‰</p>
                    <div class="card-content" id="surprise2">
                        <p>è¿˜è®°å¾—æˆ‘ä»¬ç¬¬ä¸€æ¬¡èŠå¤©çš„æƒ…æ™¯å—ï¼Ÿ</p>
                        <p>è™½ç„¶å¯èƒ½åªæ˜¯æ™®é€šçš„å¯¹è¯ï¼Œä½†å¯¹æˆ‘æ¥è¯´å´æ˜¯ç‰¹åˆ«çš„ä¸€å¤©ã€‚</p>
                        <p>æ¯ä¸€æ¬¡çš„äº¤æµï¼Œæ¯ä¸€ä¸ªå¾®ç¬‘ï¼Œéƒ½è®©æˆ‘çš„ç”Ÿæ´»æ›´åŠ ç²¾å½©ã€‚</p>
                        <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                            <i class="far fa-clock"></i> è¿™äº›ç¬é—´ï¼Œæˆ‘ä¼šæ°¸è¿œçè—
                        </div>
                    </div>
                    <button class="reveal-btn" onclick="revealSurprise(2)">
                        <i class="fas fa-lock-open"></i> æŸ¥çœ‹å›å¿†
                    </button>
                </div>

                <!-- æƒŠå–œ3 -->
                <div class="surprise-card" data-index="3">
                    <div class="card-number">3</div>
                    <div class="card-icon">
                        <i class="fas fa-music"></i>
                    </div>
                    <h3 class="card-title">ä¸“å±éŸ³ä¹</h3>
                    <p class="card-hint">ä¸ºä½ æŒ‘é€‰çš„ç‰¹åˆ«æ—‹å¾‹</p>
                    <div class="card-content" id="surprise3">
                        <p>å¦‚æœæ­¤åˆ»æœ‰èƒŒæ™¯éŸ³ä¹ï¼Œæˆ‘æƒ³ä¼šæ˜¯æ¸©æŸ”è€Œç”œèœœçš„æ—‹å¾‹ã€‚</p>
                        <div style="margin: 20px 0;">
                            <button class="music-btn" onclick="playSurpriseMusic()" style="background: var(--surprise-purple);">
                                <i class="fas fa-play"></i> æ’­æ”¾æƒŠå–œéŸ³ä¹
                            </button>
                        </div>
                        <p><small>è™½ç„¶è¿™åªæ˜¯ä¸€ä¸ªè±¡å¾ï¼Œä½†æˆ‘çš„å¿ƒæ„æ˜¯çœŸå®çš„ã€‚</small></p>
                    </div>
                    <button class="reveal-btn" onclick="revealSurprise(3)">
                        <i class="fas fa-lock-open"></i> è†å¬éŸ³ä¹
                    </button>
                </div>

                <!-- æƒŠå–œ4 -->
                <div class="surprise-card" data-index="4">
                    <div class="card-number">4</div>
                    <div class="card-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3 class="card-title">æœªæ¥çº¦å®š</h3>
                    <p class="card-hint">å…³äºæˆ‘ä»¬çš„å°å°çº¦å®š</p>
                    <div class="card-content" id="surprise4">
                        <p>å¸Œæœ›æœªæ¥æœ‰æœºä¼šï¼š</p>
                        <ul style="text-align: left; margin: 15px 0; padding-left: 20px;">
                            <li>ä¸€èµ·çœ‹ä¸€æ¬¡æ—¥å‡ºæˆ–æ—¥è½</li>
                            <li>åˆ†äº«ç”Ÿæ´»ä¸­çš„ç‚¹æ»´å¿«ä¹</li>
                            <li>åˆ›é€ æ›´å¤šç¾å¥½çš„å›å¿†</li>
                            <li>æˆä¸ºå½¼æ­¤ç”Ÿå‘½ä¸­çš„ç‰¹åˆ«å­˜åœ¨</li>
                        </ul>
                        <p>è¿™äº›å°å°çš„æ„¿æœ›ï¼Œéƒ½æ˜¯ä¸ºä½ è€Œè®¸ä¸‹çš„ã€‚</p>
                    </div>
                    <button class="reveal-btn" onclick="revealSurprise(4)">
                        <i class="fas fa-lock-open"></i> æŸ¥çœ‹çº¦å®š
                    </button>
                </div>
            </div>

            <!-- ä¸»è¦è¡¨ç™½åŒºåŸŸ -->
            <div class="main-confession slide-up">
                <h2 class="confession-title">æœ€é‡è¦çš„ä¸€å¥è¯</h2>
                <div class="confession-text">
                    å–œæ¬¢ä½ ï¼Œç‹é›…å°¼<br>
                    <span style="font-size: 1.5rem; display: block; margin-top: 10px;">ğŸ’– åœŸé¸¡è›‹ ğŸ’–</span>
                </div>
                <p class="confession-subtitle">
                    è¿™ä¸æ˜¯ä¸€å¥ç®€å•çš„å‘Šç™½<br>
                    è€Œæ˜¯æˆ‘å†…å¿ƒæ·±å¤„æœ€çœŸå®çš„æ„Ÿå—<br>
                    å¸Œæœ›åœ¨æœªæ¥çš„æ—¥å­é‡Œï¼Œæˆ‘ä»¬èƒ½ä¸€èµ·åˆ›é€ æ›´å¤šç¾å¥½çš„å›å¿†
                </p>
                <div style="margin-top: 30px;">
                    <button class="reveal-btn" onclick="showExtraConfession()" style="background: rgba(255, 255, 255, 0.2); border: 2px solid white;">
                        <i class="fas fa-plus-circle"></i> æŸ¥çœ‹æ›´å¤šå¿ƒé‡Œè¯
                    </button>
                </div>
                <div id="extraConfession" style="display: none; margin-top: 30px; animation: fadeIn 0.5s ease;">
                    <p style="font-size: 1.2rem; line-height: 1.6; opacity: 0.9;">
                        ç‹é›…å°¼ï¼Œä½ çš„åå­—åœ¨æˆ‘å¿ƒä¸­æœ‰ç€ç‰¹åˆ«çš„ä»½é‡ã€‚<br>
                        å°±åƒ"åœŸé¸¡è›‹"è¿™ä¸ªå¯çˆ±çš„æ˜µç§°ä¸€æ ·ï¼Œ<br>
                        ä½ åœ¨æˆ‘çœ¼ä¸­æ˜¯ç‹¬ç‰¹è€Œçè´µçš„å­˜åœ¨ã€‚<br>
                        æ„¿è¿™ä»½å¿ƒæ„èƒ½å¸¦ç»™ä½ ä¸€ä¸æ¸©æš–å’Œå¿«ä¹ã€‚
                    </p>
                </div>
            </div>

            <!-- æ—¶é—´èƒ¶å›Š -->
            <div class="time-capsule slide-up">
                <h2 class="capsule-title">
                    <i class="fas fa-time-capsule"></i> ç»™æœªæ¥çš„æ—¶é—´èƒ¶å›Š
                </h2>
                <div class="capsule-content" id="capsuleContent">
                    <p><strong>è‡´æœªæ¥çš„æˆ‘ä»¬ï¼š</strong></p>
                    <p>å¦‚æœæœªæ¥çš„æŸä¸€å¤©ï¼Œä½ å†æ¬¡æ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œæˆ‘æƒ³å¯¹ä½ è¯´ï¼š</p>
                    <p>æ— è®ºæ—¶é—´è¿‡å»äº†å¤šä¹…ï¼Œæ— è®ºæˆ‘ä»¬èº«åœ¨ä½•å¤„ï¼Œæ­¤åˆ»çš„è¿™ä»½å¿ƒæ„æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚</p>
                    <p>å¸Œæœ›é‚£æ—¶çš„ä½ ï¼Œä¾ç„¶åƒç°åœ¨ä¸€æ ·å¿«ä¹ã€å–„è‰¯ã€å……æ»¡é­…åŠ›ã€‚</p>
                    <p>ä¹Ÿæ„¿æˆ‘ä»¬çš„å‹è°Šï¼ˆæˆ–æ›´å¤šï¼‰èƒ½å¤Ÿéšç€æ—¶é—´çš„æ¨ç§»è€Œå˜å¾—æ›´åŠ æ·±åšã€‚</p>
                    <p style="text-align: right; margin-top: 20px;">
                        â€”â€” æ°¸è¿œæ”¯æŒä½ çš„äºº<br>
                        <span id="currentDate"></span>
                    </p>
                </div>
                <button class="open-capsule-btn" onclick="sealTimeCapsule()" id="capsuleBtn">
                    <i class="fas fa-seedling"></i> å°å­˜æ—¶é—´èƒ¶å›Š
                </button>
            </div>

            <!-- éšè—çš„å½©è›‹ -->
            <div class="hidden-egg slide-up">
                <p class="egg-hint">è¿˜æœ‰ä¸€ä¸ªéšè—çš„å°å½©è›‹...</p>
                <button class="egg-button" onclick="toggleEgg()">
                    <i class="fas fa-egg"></i> ç‚¹å‡»å¯»æ‰¾å½©è›‹
                </button>
                <div class="egg-content" id="eggContent">
                    <p><strong>ğŸ‰ æ­å–œä½ æ‰¾åˆ°äº†éšè—å½©è›‹ï¼ ğŸ‰</strong></p>
                    <p>è¿™ä¸ªå½©è›‹æƒ³å‘Šè¯‰ä½ ï¼š</p>
                    <p>æ— è®ºç”Ÿæ´»ä¸­é‡åˆ°ä»€ä¹ˆå›°éš¾ï¼Œéƒ½è¦è®°å¾—å¾®ç¬‘ã€‚</p>
                    <p>ä½ æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„äººï¼Œå€¼å¾—è¢«çæƒœå’Œçˆ±æŠ¤ã€‚</p>
                    <p>æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ï¼</p>
                    <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                        <i class="fas fa-key"></i> å½©è›‹å¯†ç ï¼š<code>åœŸé¸¡è›‹æœ€å¯çˆ±</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-gift"></i> å…³äºæƒŠå–œé¡µé¢</h3>
                <p>è¿™ä¸ªé¡µé¢ä¸“ä¸º <span class="highlight-name">åœŸé¸¡è›‹</span> å‡†å¤‡ï¼Œæ¯ä¸€ä»½æƒŠå–œéƒ½è—ç€æˆ‘çš„å¿ƒæ„ã€‚</p>
            </div>
            <div class="footer-section">
                <h3><i class="fas fa-link"></i> å¿«é€Ÿé“¾æ¥</h3>
                <div class="footer-links">
                    <a href="index.html"><i class="fas fa-home"></i> ä¸»é¡µ</a>
                    <a href="moments.html"><i class="fas fa-heart"></i> å›å¿†</a>
                    <a href="photos.html"><i class="fas fa-images"></i> ç…§ç‰‡å¢™</a>
                </div>
            </div>
            <div class="footer-section">
                <h3><i class="fas fa-info-circle"></i> é¡µé¢ä¿¡æ¯</h3>
                <p>åˆ›å»ºæ—¶é—´ï¼š2025å¹´å…ƒæ—¦</p>
                <p>æœ€åæ›´æ–°ï¼š<span id="pageUpdateDate"></span></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Â© 2025 å…ƒæ—¦ç‰¹åˆ«ç‰ˆ | ä¸“ä¸º <span class="highlight-name">ç‹é›…å°¼ï¼ˆåœŸé¸¡è›‹ï¼‰</span> åˆ¶ä½œ</p>
            <p class="footer-note">
                <i class="fas fa-heart"></i> æ„¿è¿™ä»½æƒŠå–œå¸¦ç»™ä½ å¿«ä¹ <i class="fas fa-heart"></i>
            </p>
        </div>
    </footer>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="surpriseMusic" loop>
        <source src="https://assets.codepen.io/1468070/Love.mp3" type="audio/mpeg">
        <source src="https://assets.codepen.io/1468070/Love.ogg" type="audio/ogg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>

    <!-- åŠ è½½è„šæœ¬ -->
    <script src="js/main.js"></script>
    <script>
        // æƒŠå–œé¡µé¢ç‰¹æœ‰åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            console.log('æƒŠå–œé¡µé¢åŠ è½½å®Œæˆï¼');
            
            // åˆå§‹åŒ–é­”æ³•ç²’å­
            initMagicParticles();
            
            // åˆå§‹åŒ–è¿”å›é¡¶éƒ¨æŒ‰é’®
            initBackToTop();
            
            // æ›´æ–°é¡µé¢æ—¥æœŸ
            updatePageDates();
            
            // åˆå§‹åŒ–å¯¼èˆª
            initNavigation();
            
            // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
            setTimeout(() => {
                document.querySelectorAll('.slide-up').forEach(element => {
                    element.style.animationPlayState = 'running';
                });
            }, 300);
            
            // æ£€æŸ¥å·²æ­å¼€çš„æƒŠå–œ
            checkRevealedSurprises();
        });
        
        // åˆå§‹åŒ–é­”æ³•ç²’å­
        function initMagicParticles() {
            const container = document.getElementById('magicParticles');
            if (!container) return;
            
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.width = (Math.random() * 6 + 2) + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                
                container.appendChild(particle);
            }
        }
        
        // æ›´æ–°é¡µé¢æ—¥æœŸ
        function updatePageDates() {
            const now = new Date();
            const dateString = now.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            
            // æ›´æ–°å½“å‰æ—¥æœŸ
            const currentDateElement = document.getElementById('currentDate');
            if (currentDateElement) {
                currentDateElement.textContent = dateString;
            }
            
            // æ›´æ–°é¡µé¢æ›´æ–°æ—¥æœŸ
            const pageUpdateDateElement = document.getElementById('pageUpdateDate');
            if (pageUpdateDateElement) {
                pageUpdateDateElement.textContent = dateString;
            }
        }
        
        // æ£€æŸ¥å·²æ­å¼€çš„æƒŠå–œ
        function checkRevealedSurprises() {
            const revealed = JSON.parse(localStorage.getItem('revealedSurprises')) || [];
            
            revealed.forEach(index => {
                const card = document.querySelector(`.surprise-card[data-index="${index}"]`);
                if (card) {
                    revealCard(card, false); // ä¸æ˜¾ç¤ºåŠ¨ç”»
                }
            });
        }
        
        // æ­å¼€å•ä¸ªæƒŠå–œ
        function revealSurprise(index) {
            const card = document.querySelector(`.surprise-card[data-index="${index}"]`);
            if (!card) return;
            
            // æ ‡è®°ä¸ºå·²æ­å¼€
            card.classList.add('revealed');
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            const revealed = JSON.parse(localStorage.getItem('revealedSurprises')) || [];
            if (!revealed.includes(index)) {
                revealed.push(index);
                localStorage.setItem('revealedSurprises', JSON.stringify(revealed));
            }
            
            // æ˜¾ç¤ºå†…å®¹
            revealCard(card, true);
            
            // æ’­æ”¾éŸ³æ•ˆï¼ˆæ¨¡æ‹Ÿï¼‰
            playRevealSound();
            
            // æ˜¾ç¤ºé€šçŸ¥
            showNotification(`æƒŠå–œ ${index} å·²æ­å¼€ï¼`);
        }
        
        // æ­å¼€å¡ç‰‡å†…å®¹
        function revealCard(card, animate = true) {
            const index = card.getAttribute('data-index');
            const content = card.querySelector(`#surprise${index}`);
            const hint = card.querySelector('.card-hint');
            const button = card.querySelector('.reveal-btn');
            
            if (content && hint && button) {
                // éšè—æç¤ºå’ŒæŒ‰é’®
                hint.style.display = 'none';
                button.style.display = 'none';
                
                // æ˜¾ç¤ºå†…å®¹
                content.style.display = 'block';
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                if (animate) {
                    content.style.animation = 'fadeIn 0.8s ease forwards';
                }
            }
        }
        
        // æ­å¼€æ‰€æœ‰æƒŠå–œ
        function revealAllSurprises() {
            if (!confirm('ç¡®å®šè¦ä¸€é”®æ­å¼€æ‰€æœ‰æƒŠå–œå—ï¼Ÿå»ºè®®ä¸€ä¸ªä¸€ä¸ªæ…¢æ…¢æ¢ç´¢å“¦ï¼')) {
                return;
            }
            
            const cards = document.querySelectorAll('.surprise-card');
            const revealed = [];
            
            cards.forEach((card, index) => {
                const cardIndex = card.getAttribute('data-index');
                revealCard(card, true);
                card.classList.add('revealed');
                revealed.push(parseInt(cardIndex));
            });
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('revealedSurprises', JSON.stringify(revealed));
            
            // æ˜¾ç¤ºé¢å¤–å†…å®¹
            showExtraConfession();
            document.getElementById('eggContent').style.display = 'block';
            
            // æ’­æ”¾éŸ³ä¹
            playSurpriseMusic();
            
            showNotification('æ‰€æœ‰æƒŠå–œå·²æ­å¼€ï¼æ„¿ä½ æœ‰ä¸ªç¾å¥½çš„ä½“éªŒï¼');
        }
        
        // æ’­æ”¾æƒŠå–œéŸ³ä¹
        function playSurpriseMusic() {
            const music = document.getElementById('surpriseMusic');
            if (!music) return;
            
            music.volume = 0.5;
            
            if (music.paused) {
                music.play().then(() => {
                    showNotification('æƒŠå–œéŸ³ä¹å¼€å§‹æ’­æ”¾ï¼');
                }).catch(e => {
                    console.log('æ’­æ”¾å¤±è´¥:', e);
                    showNotification('éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®');
                });
            } else {
                music.pause();
                showNotification('éŸ³ä¹å·²æš‚åœ');
            }
        }
        
        // æ’­æ”¾æ­å¼€éŸ³æ•ˆï¼ˆæ¨¡æ‹Ÿï¼‰
        function playRevealSound() {
            // åˆ›å»ºä¸€ä¸ªç®€å•çš„éŸ³æ•ˆ
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('éŸ³æ•ˆæ’­æ”¾å¤±è´¥:', e);
            }
        }
        
        // æ˜¾ç¤ºé¢å¤–è¡¨ç™½å†…å®¹
        function showExtraConfession() {
            const extraContent = document.getElementById('extraConfession');
            if (extraContent) {
                extraContent.style.display = 'block';
                extraContent.style.animation = 'fadeIn 0.8s ease forwards';
            }
        }
        
        // å°å­˜æ—¶é—´èƒ¶å›Š
        function sealTimeCapsule() {
            const button = document.getElementById('capsuleBtn');
            const content = document.getElementById('capsuleContent');
            
            if (button && content) {
                button.innerHTML = '<i class="fas fa-check-circle"></i> æ—¶é—´èƒ¶å›Šå·²å°å­˜';
                button.style.background = 'linear-gradient(135deg, #2ecc71, #27ae60)';
                button.onclick = null;
                button.style.cursor = 'default';
                
                content.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <i class="fas fa-lock" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--primary-color); margin-bottom: 15px;">æ—¶é—´èƒ¶å›Šå·²å°å­˜</h3>
                        <p>è¿™ä»½å¿ƒæ„å·²å®‰å…¨ä¿å­˜ï¼Œå°†åœ¨æœªæ¥çš„æŸä¸€å¤©é‡æ–°å¼€å¯ã€‚</p>
                        <p style="margin-top: 15px; color: var(--text-light); font-size: 0.9rem;">
                            å°å­˜æ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}
                        </p>
                    </div>
                `;
                
                // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
                localStorage.setItem('timeCapsuleSealed', 'true');
                localStorage.setItem('capsuleSealDate', new Date().toISOString());
                
                showNotification('æ—¶é—´èƒ¶å›Šå·²æˆåŠŸå°å­˜ï¼');
            }
        }
        
        // åˆ‡æ¢å½©è›‹æ˜¾ç¤º
        function toggleEgg() {
            const eggContent = document.getElementById('eggContent');
            if (eggContent) {
                if (eggContent.style.display === 'block') {
                    eggContent.style.display = 'none';
                } else {
                    eggContent.style.display = 'block';
                    eggContent.style.animation = 'fadeIn 0.5s ease forwards';
                    
                    // ä¿å­˜å·²å‘ç°å½©è›‹
                    localStorage.setItem('eggFound', 'true');
                    
                    showNotification('ğŸ‰ æ­å–œä½ æ‰¾åˆ°äº†éšè—å½©è›‹ï¼');
                }
            }
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, duration = 3000) {
            // åˆ›å»ºé€šçŸ¥å…ƒç´ 
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <i class="fas fa-gift"></i>
                <span>${message}</span>
            `;
            
            // æ ·å¼
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--card-bg);
                color: var(--text-color);
                padding: 15px 25px;
                border-radius: var(--border-radius-md);
                box-shadow: var(--shadow-heavy);
                display: flex;
                align-items: center;
                gap: 10px;
                z-index: 10000;
                animation: slideInRight 0.3s ease, fadeOut 0.3s ease ${duration}ms forwards;
                border-left: 4px solid var(--surprise-pink);
            `;
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(notification);
            
            // è‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, duration + 300);
        }
        
        // æ·»åŠ åŠ¨ç”»æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes fadeOut {
                to {
                    opacity: 0;
                    transform: translateX(100%);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>